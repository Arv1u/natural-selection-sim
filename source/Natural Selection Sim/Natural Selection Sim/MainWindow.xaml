<Window x:Class="Natural_Selection_Sim.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Natural_Selection_Sim"
        xmlns:ctrl="clr-namespace:Natural_Selection_Sim.UserControls"
        xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.WPF;assembly=LiveChartsCore.SkiaSharpView.WPF"
        mc:Ignorable="d"
        Title="Natural Selection Sim" 
        Height="720" Width="1280"
        MinHeight="700" MinWidth="1100"
        Background="#222222">
    <Window.Resources>
        
        
    </Window.Resources>
   
    <!--Parent Grid-->
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="1*"/>
            <ColumnDefinition Width="1*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="40*"/>
            <RowDefinition Height="60*"/>
        </Grid.RowDefinitions>

        <!--Header and controls grid-->
        <Grid Margin="10 0 20 0"
            Grid.Column="0"
                Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="1.3*"/>
                <RowDefinition Height="1*"/>
                <RowDefinition Height="1*"/>
            </Grid.RowDefinitions>
            <TextBlock 
                Text="Natural Selection" 
                Foreground="White"
                FontSize="40"
                Grid.ColumnSpan="3"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                FontWeight="Bold"/>
            <Button
                    Style="{StaticResource StartButton}"
                    Command="{Binding StartCommand}"
                    Content="Start"
                    FontSize="30"
                    FontWeight="Bold"
                    Grid.Column="0"
                    Grid.Row="1"
                    Margin="10"
                    />
            <Button Name="PauseButton"
                    Style="{StaticResource PauseButton}"
                    Command="{Binding PauseCommand}"
                    Content="Pause"
                    FontSize="30"
                    FontWeight="Bold"
                    Grid.Column="1"
                    Grid.Row="1"
                    Margin="10"
                        
                    />
            <Button Name="ResetButton"
                    Style="{StaticResource ResetButton}"
                    Command="{Binding ResetCommand}"
                    Content="Reset"
                    FontSize="30"
                    FontWeight="Bold"
                    Grid.Column="2"
                    Grid.Row="1"
                    Margin="10" 
                    />
            <!--display timesteps passed-->
            <Grid Grid.Row="2" Grid.ColumnSpan="2">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto"/>
                    <ColumnDefinition Width="auto"/>
                </Grid.ColumnDefinitions>
                <Label Content="Time Step: "
                        Grid.Row="2"
                        FontSize="30"
                        Margin="10 0 0 0"
                        Foreground="White"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"/>
                <TextBlock Grid.Column="1"
                    Text="{Binding CurrentTimeStep}"
                    d:Text="20"
                    Grid.Row="2"
                    FontSize="30"
                    Foreground="White"
                    Margin="0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    />
            </Grid>
            <!--input simulation speed-->
            <Grid Grid.Column="2"
                  Grid.Row="2">
                <Grid.RowDefinitions>
                    <RowDefinition Height="auto"/>
                    <RowDefinition Height="auto"/>
                </Grid.RowDefinitions>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="auto"/>
                        <ColumnDefinition Width="auto "/>
                    </Grid.ColumnDefinitions>
                    <Label Content="Steps/sec: "
                                FontSize="30"
                                   
                                Foreground="White"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Center"/>
                    <TextBlock 
                            Text="{Binding ElementName=StepsPerSecondSlider, Path=Value}"
                            d:Text="30"
                            Foreground="White"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            FontSize="30"
                            Grid.Column="1"
                        />
                </Grid>
                <Slider Style="{DynamicResource SliderStyle}" Name="StepsPerSecondSlider"
                    Minimum="1"
                    Maximum="1000"
                    Value="{Binding TimeStepsPerSecond, Mode=TwoWay}"
                    IsSnapToTickEnabled="True"
                    Grid.Row="1"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Center"/>
            </Grid>
        </Grid>

        <!--Results Simulation table-->
        <Grid Grid.Row="1" Margin="20 20 20 20">

            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition/>
                <RowDefinition/>
                <RowDefinition/>
                <RowDefinition/>
                <RowDefinition/>
                <RowDefinition/>
                <RowDefinition/>
            </Grid.RowDefinitions>
            <!--Row/Column Headers-->
            <ctrl:TableHeader x:Name="TopLeftBorders"/>

            <ctrl:TableHeader HeaderName="Herbivore" Grid.Column="1"/>
            <ctrl:TableHeader HeaderName="Omnivore" Grid.Column="2"/>
            <ctrl:TableHeader HeaderName="Carnivore" Grid.Column="3"/>
            <ctrl:TableHeader HeaderName="Population" Grid.Row="1"/>
            <ctrl:TableHeader HeaderName="Birthrate Ø" Grid.Row="2"/>
            <ctrl:TableHeader HeaderName="Deathrate Ø" Grid.Row="3"/>
            <ctrl:TableHeader HeaderName="Mutationrate Ø" Grid.Row="4"/>
            <ctrl:TableHeader HeaderName="Speed Ø" Grid.Row="5"/>
            <ctrl:TableHeader HeaderName="Size Ø" Grid.Row="6"/>
            <!--Simulation Data-->


            <ctrl:TableData Data="{Binding Herbivore.PopulationCurrent}" Grid.Column="1" Grid.Row="1"/>
            <ctrl:TableData Data="{Binding Herbivore.BirthRateAvg}" Grid.Column="1" Grid.Row="2"/>
            <ctrl:TableData Data="{Binding Herbivore.DeathRateAvg}" Grid.Column="1" Grid.Row="3"/>
            <ctrl:TableData Data="{Binding Herbivore.MutationRateAvg}" Grid.Column="1" Grid.Row="4"/>
            <ctrl:TableData Data="{Binding Herbivore.SpeedAvg}" Grid.Column="1" Grid.Row="5"/>
            <ctrl:TableData Data="{Binding Herbivore.SizeAvg}" Grid.Column="1" Grid.Row="6"/>

            <ctrl:TableData Data="{Binding Omnivore.PopulationCurrent}" Grid.Column="2" Grid.Row="1"/>
            <ctrl:TableData Data="{Binding Omnivore.BirthRateAvg}" Grid.Column="2" Grid.Row="2"/>
            <ctrl:TableData Data="{Binding Omnivore.DeathRateAvg}" Grid.Column="2" Grid.Row="3"/>
            <ctrl:TableData Data="{Binding Omnivore.MutationRateAvg}" Grid.Column="2" Grid.Row="4"/>
            <ctrl:TableData Data="{Binding Omnivore.SpeedAvg}" Grid.Column="2" Grid.Row="5"/>
            <ctrl:TableData Data="{Binding Omnivore.SizeAvg}" Grid.Column="2" Grid.Row="6"/>

            <ctrl:TableData Data="{Binding Carnivore.PopulationCurrent}" Grid.Column="3" Grid.Row="1"/>
            <ctrl:TableData Data="{Binding Carnivore.BirthRateAvg}" Grid.Column="3" Grid.Row="2"/>
            <ctrl:TableData Data="{Binding Carnivore.DeathRateAvg}" Grid.Column="3" Grid.Row="3"/>
            <ctrl:TableData Data="{Binding Carnivore.MutationRateAvg}" Grid.Column="3" Grid.Row="4"/>
            <ctrl:TableData Data="{Binding Carnivore.SpeedAvg}" Grid.Column="3" Grid.Row="5"/>
            <ctrl:TableData Data="{Binding Carnivore.SizeAvg}" Grid.Column="3" Grid.Row="6"/>
        </Grid>
        <!--Starting values-->
        <Grid Grid.Column="1"
              Margin="20 30 20 20">
            <Grid.RowDefinitions>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="1*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*"/>
                <ColumnDefinition Width="1*"/>
                <ColumnDefinition Width="1*"/>
            </Grid.ColumnDefinitions>
            <TextBlock Text="Starting Values" FontSize="30" Foreground="White" FontWeight="DemiBold" Grid.ColumnSpan="3" HorizontalAlignment="Center" />
            <ctrl:StartingValuesControl DataContext="{Binding Herbivore}" Margin="0 0 10 0" PopulationName="{Binding Name}" StartingValuesIsEnabled="{Binding IsEnabled,Mode=TwoWay}" Grid.Column="0" Grid.Row="1"/>
            <ctrl:StartingValuesControl DataContext="{Binding Omnivore}" Margin="10 0 10 0" PopulationName="{Binding Name}" StartingValuesIsEnabled="{Binding IsEnabled,Mode=TwoWay}" Grid.Column="1" Grid.Row="1"/>
            <ctrl:StartingValuesControl DataContext="{Binding Carnivore}" Margin="10 0 0 0" PopulationName="{Binding Name}" StartingValuesIsEnabled="{Binding IsEnabled,Mode=TwoWay}" Grid.Column="2" Grid.Row="1"/>
        </Grid>
        <!--LineGraph-->
        <lvc:CartesianChart DataContext="{Binding LineChartViewModel}"
                            XAxes="{Binding XAxes}"
                            YAxes="{Binding YAxes}"
                            Series="{Binding Series}"
                            EasingFunction="{x:Null}"
                            Grid.Column="1"
                            Grid.Row="1"
                            SnapsToDevicePixels="True"
                            UseLayoutRounding="True"
                            RenderOptions.BitmapScalingMode="NearestNeighbor"
                            VerticalAlignment="Stretch"
                            HorizontalAlignment="Stretch"
                            IsEnabled="True"
                            Margin="20 20 20 20"
                            LegendPosition="Bottom"
                            LegendTextSize="14"
                            LegendTextPaint="{Binding LedgendTextPaint}"
                            />
    </Grid>
</Window>
